<div class="col-lg-6">
    <div class="card">
        <div class="card-body">
            <h5 class="card-title"><b>Opt-in to the Test</b></h5>

            <p class="card-text">
                We want to measure the prevalence of this issue across mail servers. For that, we need
                many people that are willing to participate in our test measurements.
                If you are interested in testing your SMTP server, you need to follow
                the couple of procedures given below.
                <br><br>
                1. Provide your email address in the following box, mark the
                checkbox, and click on generate. This will provide you with a unique link associated with
                this email address.
                <br><br>
                2. Send us an email at <b>&lt;admin@opt-in.spf-checker.com&gt;</b> from the same email
                address at Step 1 to explicitly opt in for the test. Note that your email must pass
                SPF test for us to accept it as a valid email. DKIM and DMARC are optional but recommended.
                <br><br>
                If we do receive an SPF-validated email from you and if the input email and sender email matches,
                we will send you a reply back at the sender address from a subdomain of
                <i>referral-test.spf-checker.com</i>. This is the test email that we will use to test
                your email server. As soon as you receive this email, you can visit the unique link
                in step 1 to view the DNS TXT queries your SMTP server made in response to our email. If you don't
                recall the unique link, you can just input your email address to retrieve it. Your unique link will
                be cached for 24 hours which means that you will have to wait at least 24 hours before you can test the
                same
                email address again.
                <br><br>
                Note that we will store your email address,
                the FQDN of your mail server, the results of the test, and the timestamp of the test.
            <form class="form-inline ml-3" method="post" id="generate-form">
                <div class="input-group input-group-sm">
                    {% csrf_token %}
                    <div class="col-lg-12">
                        <div class="input-group input-group-sm">
                            <div class="col-lg-6">
                                <label for="email">Email Address</label>
                            </div>
                            <div class="col-lg-6">
                                <input class="form-control" type="email" id="email-generate"
                                       name="email" required>
                            </div>
                        </div>
                        <div class="input-group input-group-sm">
                            <div class="col-lg-10">
                                <label for="cb">I agree to receive a test-email to participate
                                    in this study, and consent to the data outlined above being stored.
                                </label>
                            </div>
                            <div class="col-lg-2">
                                <input class="form-control form-control-navbar" type="checkbox"
                                       id="consent"
                                       name="consent" required>
                            </div>
                        </div>
                        <div class="input-group input-group-sm">
                            <div class="col-lg-9"></div>
                            <div class="col-lg-3">
                                <button class="btn btn-link btn-dark" type="button" id="btn-generate">
                                    Generate
                                </button>
                            </div>
                        </div>
                        <div class="input-group input-group-sm">
                            <div class="col-lg-12" id="link-generate-div" hidden>
                                Please send us an email at <b>&lt;admin@opt-in.spf-checker.com&gt;</b> from the same email
                address you input here to explicitly opt in for the test. Note that your email must pass
                SPF test for us to accept it as a valid email.
                                <span id="new"></span> <a id="link-generate"></a>.
                                Please wait at least 2 minutes for our email to arrive after you
                                send us an email for the result to be available. Please check the spam folder.
                            </div>
                        </div>
                    </div>
                </div>
            </form>
            </p>
        </div>
    </div>
</div>